(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{142:function(e,t,a){e.exports=a(219)},147:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},155:function(e,t,a){e.exports=a.p+"static/media/navigation.347d9f0b.svg"},213:function(e,t,a){},219:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(26),o=a.n(i),l=(a(147),a(9)),s=a(10),c=a(12),u=a(11),d=a(13),m=a(90),f=a(24),p=(r.a.createContext({user:{}}),a(148),a(149),a(150),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"f-navbar-top"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"f-navbar-floatright f-navbar-top-ul"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{className:"white",href:"https://jswheeler.uk"},"MY WORK")),r.a.createElement("li",null,r.a.createElement("a",{className:"white",href:"/login"},"LOGIN")))))),r.a.createElement("div",{className:"f-navbar-bottom"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"f-navbar-floatleft"},r.a.createElement("a",{href:"/",className:"logo"},"GORING WIND ")),r.a.createElement("div",{className:"f-navbar-floatright f-navbar-bottom-ul"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/interactive-weather"},"INTERACTIVE WEATHER")),r.a.createElement("li",null,r.a.createElement("a",{href:"/archive"},"ARCHIVE")))))))}}]),t}(n.Component)),h=(a(151),a(61),a(63)),E=a(66),v=a(64),b=a(65),g=(a(152),a(3)),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={mapCenter:[50.802897,-.440456],zoomLevel:12,wind:e.wind,markers:[],currentMarker:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.updateMarkers()}},{key:"updateMarkers",value:function(){for(var e=0;e<this.state.wind.length;e++)this.state.markers.push({position:[this.state.wind[e].position[0],this.state.wind[e].position[1]],all:this.state.wind[e]})}},{key:"handleMarkerClick",value:function(e){this.setState({currentMarker:e.target.options.data})}},{key:"render",value:function(){var e=this;return r.a.createElement(h.a,{center:this.state.mapCenter,zoom:this.state.zoomLevel},r.a.createElement(E.a,{attribution:"&copy; <a href=&quot;http://osm.org/copyright&quot;>OpenStreetMap</a> contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),this.state.markers.map((function(t,n){return r.a.createElement(v.a,{icon:new g.Icon({iconUrl:a(155),iconSize:new g.Point(60,75),className:"leaflet-div-icon"}),key:"marker-".concat(n),position:t.position,data:t.all,onClick:e.handleMarkerClick.bind(e)},r.a.createElement(b.a,null,r.a.createElement("a",{href:"goringwind.uk"},"Website Link"),t.all.direction,", ",t.all.speed," Kt"))})))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).rotate=function(){var e=-45+parseInt(a.props.Bearing,10);return"rotate(".concat(e,")")},a.state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"colour-card blue wind-card"},r.a.createElement("div",{className:"form-card-body"},r.a.createElement("div",{className:"form-card-body-left"},r.a.createElement("div",null,r.a.createElement("h3",null,this.props.StationName),r.a.createElement("span",null,this.props.StationLocation,", ",this.props.StationDistance," KM"))),r.a.createElement("div",{className:"form-card-body-right"},r.a.createElement("div",{className:"wind-arrow"},r.a.createElement("svg",{width:"35.248",transform:this.rotate(),height:"34.415",viewBox:"0 0 35.248 34.415"},r.a.createElement("path",{className:"wind-arrow-svg",d:"M35.056.817a.682.682,0,0,0-.775-.145L.4,16.222A.683.683,0,0,0,.57,17.516l15.2,2.547L17.5,34.424a.684.684,0,0,0,.562.59.665.665,0,0,0,.115.01.682.682,0,0,0,.612-.38L35.178,1.6A.682.682,0,0,0,35.056.817Z",transform:"translate(0 -0.61)",fill:"#ffffff"}))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("span",{id:"wind-speed"},this.props.CurrentSpeed," ")," ",r.a.createElement("span",{id:"wind-direction"},this.props.Direction)),r.a.createElement("span",{id:"speed-unit"},"KNOTS")))))}}]),t}(n.Component),N=(a(220),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"error-center"},r.a.createElement("a",null,"Sorry this hasn't been implemented yet."))}}]),t}(n.Component)),k=(a(213),function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return"true"==this.props.display?r.a.createElement("div",{className:"failure-container fadein"},r.a.createElement("div",{className:"container align-middle"},r.a.createElement("span",{className:"float-left"},this.props.code,":"),r.a.createElement("span",{className:"float-right"},this.props.message))):"false"==this.props.display?r.a.createElement("div",{className:"failure-container fadeout "},r.a.createElement("div",{className:"container align-middle"},r.a.createElement("span",{className:"float-left"},this.props.code,":"),r.a.createElement("span",{className:"float-right"},this.props.message))):void 0}}]),t}(n.Component)),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={wind:null,isLoaded:null,tide:null,failure:{display:"false",message:"",code:""}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"displayError",value:function(e,t,a){var n=this;this.setState({failure:{display:"true",code:e,message:t}}),setTimeout((function(){n.setState({failure:{display:"false"}})}),a)}},{key:"componentDidMount",value:function(){this.displayError("0x00","Any data presented is false during the development phase of this, do not use it for justification for kitesurfing",3e3),this.getTideData(),this.getWindData(),setInterval(this.getWindData.bind(this),5e3)}},{key:"getWindData",value:function(){var e=this,t=[],a=new XMLHttpRequest;a.onload=function(){if(200===a.status){var n=JSON.parse(a.response);n=n.res;for(var r=0;r<n.length;r++)t.push({name:n[r].name,location:n[r].location,distance:n[r].distance,speed:n[r].speed,direction:n[r].direction,bearing:n[r].bearing,position:[n[r].lat,n[r].long],key:n[r].key});e.setState({wind:t,isLoaded:!0})}else e.displayError("0x01","failed to retrieve wind data",5e3)},a.open("POST","http://192.168.1.3:5000/weather/getCurrent?type=wind"),a.send()}},{key:"getTideData",value:function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(200===t.status){var a=JSON.parse(t.response);a=a.res,console.log("tide"),console.log(a),e.setState({tide:a})}else e.displayError("0x01","failed to retrieve tide data",5e3),console.log("tide failed")},t.open("POST","http://192.168.1.3:5000/weather/getCurrent?type=tide"),t.send()}},{key:"render",value:function(){if(this.state.isLoaded){var e=this.state,t=e.wind,a=(e.tide,t.map((function(e){return r.a.createElement(O,{StationName:e.name,StationLocation:e.location,StationDistance:e.distance,CurrentSpeed:e.speed,Direction:e.direction,Bearing:e.bearing,key:e.key})})));return r.a.createElement("main",{id:"layout-container"},r.a.createElement(k,{display:this.state.failure.display,code:this.state.failure.code,message:this.state.failure.message}),r.a.createElement("div",{id:"content"},r.a.createElement("div",{className:"grid-container content-container"},r.a.createElement("div",{className:"grid-card"},r.a.createElement("div",{className:"full-size"},r.a.createElement("span",{className:"card-title"},"INTERACTIVE WEATHER"),r.a.createElement("div",{className:"colour-card blue pale-blue-shadow full-size"},r.a.createElement(y,{wind:this.state.wind})))),r.a.createElement("div",{className:"grid-card"},r.a.createElement("div",{className:"left-padding full-size"},r.a.createElement("span",{className:"card-title"},"WIND"),r.a.createElement("div",{className:"full-size"},a))),r.a.createElement("div",{className:"grid-card"},r.a.createElement("div",{className:"left-padding full-size"},r.a.createElement("span",{className:"card-title"},"TIDE"),r.a.createElement("div",{className:"colour-card orange full-size"},r.a.createElement(N,{tide:this.state.tide})))))))}return r.a.createElement("div",{className:"error-modal"},r.a.createElement("div",{className:"error-modal-inner"},r.a.createElement("span",{className:"oops-error"},"Oops,"),r.a.createElement("span",null,"Something went wrong. Try again?"),r.a.createElement("button",null,"TRY AGAIN")))}}]),t}(n.Component),w=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement(j,null))}}]),t}(n.Component),C=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"BackgroundTheme"},this.props.children)}}]),t}(n.Component),x=a(42),T=a(86);function S(){var e=Object(T.a)(["\n    body {\n    margin: 0 !important;\n    display: flex;\n    height: 100%;\n    background-color: ",";\n    border-radius: 6px;\n\n    .card-title {\n        color: ",";\n    }\n    \n    .blue {\n        background-color: ",";\n        color: ",";\n        box-shadow: 5px 5px 0px 1px rgba(0,151,230,1);\n    }\n\n    .orange {\n        background-color: ",";\n        color: ",";\n        box-shadow: 5px 5px 0px 1px #E1B12C;\n    }\n\n    .form-card-body-left h3 {\n        color: ",";\n    }\n\n    .form-card-body-left span {\n        color: ",";\n    }\n\n    .wind-arrow-svg {\n        fill: ",";\n    }\n\n"]);return S=function(){return e},e}var D=Object(x.b)(S(),(function(e){return e.theme.backgroundColor}),(function(e){return e.theme.TextColour}),(function(e){return e.theme.BaseWindColor}),(function(e){return e.theme.BaseWindColorText}),(function(e){return e.theme.BaseWindColor}),(function(e){return e.theme.BaseWindColorText}),(function(e){return e.theme.BaseWindColorText}),(function(e){return e.theme.BaseWindColorText}),(function(e){return e.theme.BaseWindColorArrow})),W={backgroundColor:"#f1c40f !important",TextColour:"#ffffff !important",BaseWindColor:"#ffffff !important",BaseWindColorText:"#2C3E50 !important",BaseWindColorArrow:"#2C3E50 !important"},L={backgroundColor:"#F0F2F6 !important",TextColour:"#34495e !important"},B={backgroundColor:"#34495e !important",TextColour:"#ffffff !important",TextColourl:"#34495e !important"},M={backgroundColor:"#F0F2F6 !important",TextColour:"#34495e !important"},I=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={theme:M,user:null,error:null,isLoaded:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"logout",value:function(){this.setState({user:{}})}},{key:"setTimeOfDay",value:function(){var e=(new Date).getHours();e<12&&this.setState({theme:W}),e>12&&this.setState({theme:L}),e>20?this.setState({theme:B}):this.setState({theme:M})}},{key:"componentDidMount",value:function(){this.setState({isLoaded:!0}),this.setTimeOfDay()}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded;return t?r.a.createElement("div",null,"Goring wind is down because of bugs, please come back later"):a?r.a.createElement(x.a,{theme:this.state.theme},r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),r.a.createElement(C,null,r.a.createElement(m.a,null,r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",component:w})))))):r.a.createElement("span",null,"errr")}}]),t}(n.Component);o.a.render(r.a.createElement(I,null),document.getElementById("root"))},61:function(e,t,a){}},[[142,1,2]]]);
//# sourceMappingURL=main.8673561f.chunk.js.map